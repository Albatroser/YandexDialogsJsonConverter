using System;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace YandexDialogsJsonConverterTest.Сheck
{
    [TestClass]
    public class ButtonsTest

    //: YandexDialogsJsonConverter.Response.Сheck.ButtonCard
    {
        [TestMethod]
        public void UrlError()
        {
            // Arrang
            string excectedText = "Url - URL который должно открывать нажатие по изображению. Ошибка в адрессе";
            string excectedText2 = "YandexDialogsJsonConverter.Response.Buttons";
            // Act
            YandexDialogsJsonConverter.Response.Сheck.Button button =
                new YandexDialogsJsonConverter.Response.Сheck.Button(
                    new YandexDialogsJsonConverter.Response.Buttons
                    ("TextSet", new { }, "UrlSet", true));
            var v = button.QueueError.Dequeue();
            // Assert
            Assert.AreEqual(excectedText, v.ErrorText);
            Assert.AreEqual(excectedText2, v.OdjName);
            Assert.AreEqual(true, button.Check);
        }

        [TestMethod]
        public void NotError()
        {
            // Arrang

            // Act
            YandexDialogsJsonConverter.Response.Сheck.Button button =
              new YandexDialogsJsonConverter.Response.Сheck.Button(
                  new YandexDialogsJsonConverter.Response.Buttons
                   ("TestString", new { }, "https://www.youtube.com/watch?v=CT_p236O5mI", true));
            // Assert
            Assert.AreEqual(0, button.QueueError.Count);
            Assert.AreEqual(false, button.Check);
        }

        [TestMethod]
        public void TextError()
        {
            // Arrang
            string excectedText = "Title " + TestString.TextErrorMes6470;
            string excectedText2 = "YandexDialogsJsonConverter.Response.Buttons.Title";
            // Act
            YandexDialogsJsonConverter.Response.Сheck.Button button =
               new YandexDialogsJsonConverter.Response.Сheck.Button(
                   new YandexDialogsJsonConverter.Response.Buttons
                    (TestString.Text70, new { }, "https://www.youtube.com/watch?v=CT_p236O5mI", true));

            var v = button.QueueError.Dequeue();
            // Assert
            Assert.AreEqual(excectedText, v.ErrorText);
            Assert.AreEqual(excectedText2, v.OdjName);
            Assert.AreEqual(true, button.Check);
        }

        [TestMethod]
        public void PayloadError()
        {
            // Arrang
           // string excectedText5 = "Payload максимум 4096 символов. Факт 4534 знаков: {\"test1\":\"123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\",\"test2\":\"123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\",\"test3\":\"123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\"}";
            string excectedText = "Payload - Максимум 4096 байт. Факт: 4534";
            string excectedText2 = "YandexDialogsJsonConverter.Response.Buttons";
            // Act
            YandexDialogsJsonConverter.Response.Сheck.Button button =
               new YandexDialogsJsonConverter.Response.Сheck.Button(
                   new YandexDialogsJsonConverter.Response.Buttons
                    ("TestString",
                    new {
                        test1 = TestString.Text1500,
                        test2 = TestString.Text1500,
                        test3 = TestString.Text1500,

                    },
                    "https://www.youtube.com/watch?v=CT_p236O5mI",
                    true));

            var v = button.QueueError.Dequeue();
            // Assert
            Assert.AreEqual(excectedText, v.ErrorText);
            Assert.AreEqual(excectedText2, v.OdjName);
            Assert.AreEqual(true, button.Check);
        }
    }
}
